# ICT Trading Ontology - Standard Vocabulary
# All scripts/analysis must use these exact terms and definitions

version: "2.0"
updated: "2026-01-20"

# =============================================================================
# MARKET CONTEXT
# =============================================================================
market_context:
  trend_state:
    bullish: "HTF making higher highs and higher lows"
    bearish: "HTF making lower highs and lower lows"
    ranging: "Price consolidating between defined levels"
  
  session:
    asia: "8:00 PM - 12:00 AM EST"
    london: "2:00 AM - 5:00 AM EST (killzone)"
    ny_am: "7:00 AM - 10:00 AM EST (killzone)"
    ny_lunch: "12:00 PM - 1:00 PM EST (avoid)"
    ny_pm: "1:30 PM - 4:00 PM EST"
    london_close: "10:00 AM - 12:00 PM EST"
  
  htf_bias:
    description: "Direction determined by Daily/4H structure"
    values: ["bullish", "bearish", "neutral"]

# =============================================================================
# MARKET STRUCTURE
# =============================================================================
structures:
  swing_high:
    definition: "Local price peak with lower highs on both sides"
    significance: "Potential resistance / BSL target"
  
  swing_low:
    definition: "Local price trough with higher lows on both sides"
    significance: "Potential support / SSL target"
  
  bos:
    full_name: "Break of Structure"
    definition: "Price closes beyond previous swing high/low"
    rule: "Body must close beyond level, not just wick"
  
  choch:
    full_name: "Change of Character"
    definition: "First break of structure against prevailing trend"
    significance: "Potential trend reversal signal"
  
  structure_break:
    valid: "Body closes beyond level AND sustains"
    invalid: "Flash wick beyond level = stop hunt, not real break"
  
  range_high:
    definition: "Upper boundary of consolidation"
    contains: "Buy-side liquidity (BSL)"
  
  range_low:
    definition: "Lower boundary of consolidation"
    contains: "Sell-side liquidity (SSL)"
  
  terminus:
    definition: "Final objective of market maker model - PREDETERMINED"
    rule: "Identified BEFORE price reaches it, not after"
    location: "Discount PD arrays (buys) or premium PD arrays (sells)"
  
  prior_distribution:
    definition: "Previous selling zone that becomes accumulation on reversal"
    rule: "What buys will sell, what sells will buy"
  
  origination_displacement:
    definition: "Zone where the move originated"
    rule: "If price falls below this = thesis invalid, move is done"

# =============================================================================
# LIQUIDITY
# =============================================================================
liquidity:
  bsl:
    full_name: "Buy-Side Liquidity"
    location: "Above swing highs, equal highs, range highs"
    contains: "Stop losses from shorts, breakout buy orders"
    status: ["unswept", "swept"]
  
  ssl:
    full_name: "Sell-Side Liquidity"
    location: "Below swing lows, equal lows, range lows"
    contains: "Stop losses from longs, breakout sell orders"
    status: ["unswept", "swept"]
  
  equal_highs:
    definition: "2+ swing highs at approximately same level"
    significance: "Liquidity pool - NOT resistance"
    rule: "Functional similarity, not exact pip match"
  
  equal_lows:
    definition: "2+ swing lows at approximately same level"
    significance: "Liquidity pool - NOT support"
    rule: "2-3 candles at same area = licking chops"
  
  irl:
    full_name: "Internal Range Liquidity"
    components: ["FVG", "liquidity_void", "order_block"]
    use: "ENTRY points within current dealing range"
  
  erl:
    full_name: "External Range Liquidity"
    components: ["equal_highs", "equal_lows", "old_swing_highs", "old_swing_lows"]
    use: "TARGET for internal range entries"
  
  sweep:
    definition: "Price takes liquidity level then reverses"
    nature: "Fluid process that is DESTINED, not violent"
    confirmation: "20-30 pips through level, could be wick or body"

# =============================================================================
# PD ARRAYS (Price Delivery Arrays)
# =============================================================================
pd_arrays:
  fvg:
    full_name: "Fair Value Gap"
    definition: "Gap between candle 1 high/low and candle 3 high/low"
    measurement: "From WICKS, not bodies"
    priority: "Higher than OB - algorithm returns to THE VOID"
    entry_rule: "Just needs to touch 50% to continue"
    status: ["unmitigated", "mitigated"]
    mitigated_when: "Any candle after formation touches 50% level"
  
  order_block:
    full_name: "Order Block"
    bullish: "Last DOWN candle before displacement up"
    bearish: "Last UP candle before displacement down"
    entry: "50% of OB candle (midpoint)"
    stop: "Below OB specifically, not entire FVG"
  
  imbalance:
    definition: "Same as FVG - price moved too fast, needs rebalancing"
    buy_side_imbalance: "= Sell side inefficiency"
    sell_side_imbalance: "= Buy side inefficiency"
  
  premium:
    definition: "Price above equilibrium (50%) of range"
    action: "Look to SELL in premium zones"
  
  discount:
    definition: "Price below equilibrium (50%) of range"
    action: "Look to BUY in discount zones"
  
  mitigation_block:
    definition: "Zone where prior orders need to be closed out"
    forms: "After balanced price range interaction"

# =============================================================================
# TIMING
# =============================================================================
timing:
  cbdr:
    full_name: "Central Bank Dealers Range"
    time: "2:00 PM - 8:00 PM EST"
    ideal_range: "<40 pips (preferably 20-30)"
    rule: "Track BEFORE session, don't trade DURING"
    tight_cbdr: "Signals expansion coming"
  
  asia_range:
    time: "8:00 PM - 12:00 AM EST"
    significance: "More important than CBDR for expansion thesis"
    rule: "SD levels predetermined before London/NY"
  
  killzone:
    london: "2:00 AM - 5:00 AM EST"
    ny_am: "7:00 AM - 10:00 AM EST"
    significance: "Prime trading windows"
  
  judas_swing:
    definition: "Fake move opposite to true direction"
    timing: "100% time-based - happens at London open"
    purpose: "Traps counter-trend traders, grabs liquidity"
    rule: "Must occur during specific time window to qualify"
  
  session_open:
    london: "2:00 AM EST"
    ny: "8:00 AM EST"
    cme: "8:20 AM EST (significant)"
  
  optimal_trade_days:
    best: ["Tuesday", "Wednesday"]
    good: ["Monday", "Thursday"]
    avoid: ["Friday"]

# =============================================================================
# MODEL STAGES (AMD)
# =============================================================================
model_stages:
  accumulation:
    definition: "Smart money building positions in range"
    appearance: "Consolidation, equal highs/lows forming"
    action: "Wait - don't enter yet"
  
  manipulation:
    definition: "False move to grab liquidity"
    appearance: "Judas swing, sweep of levels"
    action: "Prepare for entry after sweep completes"
  
  distribution:
    definition: "Real move delivering to target"
    appearance: "Displacement, strong directional move"
    action: "Enter on retracement to FVG/OB"

# =============================================================================
# ENTRY MODELS
# =============================================================================
entry_models:
  ob_fvg_retrace:
    sequence: ["BOS", "displacement", "FVG+OB forms", "retrace to 50%", "continuation"]
    entry: "50% of OB inside FVG"
    stop: "Below OB"
  
  judas_into_ob:
    sequence: ["session_open", "false_move", "sweep_liquidity", "displacement", "OB_tap"]
    entry: "OB after Judas completes"
    timing: "Must be during London open"
  
  ltf_refinement:
    trigger: "Late on HTF entry"
    action: "Drop to 5M, find next PDA that promotes HTF bias"
    rule: "LTF PDA must align with HTF direction"
  
  cbdr_asia_sd:
    name: "Ashton's Signature Model"
    conditions: ["terminus_identified", "tight_cbdr", "asia_sd_confluence"]
    entry: "At ASIA SD zone"
    confirmation: "Tight CBDR signals expansion"

# =============================================================================
# VALIDATION RULES
# =============================================================================
validation:
  re_entry_valid:
    condition: "Price stays above origination displacement zone"
    meaning: "Structure holding = thesis still valid"
  
  re_entry_invalid:
    condition: "Price falls below origination displacement zone"
    meaning: "Structure broken = move is done"
  
  fvg_valid:
    condition: "Unmitigated - price has NOT returned since formation"
  
  fvg_invalid:
    condition: "Mitigated - price already touched 50%"

# =============================================================================
# MULTI-TIMEFRAME HIERARCHY
# =============================================================================
timeframe_hierarchy:
  htf_bias:
    timeframes: ["D", "4H"]
    purpose: "Determine overall direction"
    identifies: ["premium_discount", "major_ob", "terminus", "weekly_range"]
    rule: "Trade WITH HTF bias, never against"
  
  mtf_bridge:
    timeframes: ["1H", "15M"]
    purpose: "Refine HTF zones into tradeable areas"
    identifies: ["intermediate_structure", "refined_ob", "session_range", "fvg_clusters"]
    rule: "Must align with HTF, provides entry zones"
  
  ltf_execution:
    timeframes: ["5M", "1M"]
    purpose: "Precise entry timing and confirmation"
    identifies: ["micro_structure", "entry_ob", "entry_fvg", "confirmation_shift"]
    rule: "Execute here only when MTF/HTF aligned"
  
  alignment_states:
    full_alignment: "All TFs pointing same direction - highest probability"
    partial_alignment: "HTF clear, MTF developing - wait or reduced size"
    no_alignment: "Conflicting signals - no trade"

# =============================================================================
# SESSION BEHAVIOR PATTERNS
# =============================================================================
session_behaviors:
  asia:
    typical_action: "Sets the range for the day"
    characteristics: ["consolidation", "range_formation", "liquidity_building"]
    trap_type: "False breakouts that London reverses"
    trade_bias: "Mark levels, don't trade breakouts"
  
  london:
    typical_action: "Expansion - breaks Asia range"
    characteristics: ["judas_swing", "true_direction_reveal", "liquidity_sweep"]
    trap_type: "Judas at open traps counter-trend"
    trade_bias: "Trade with the move after Judas"
  
  ny_am:
    typical_action: "Continues London OR reverses if extended"
    characteristics: ["continuation", "reversal_if_overextended", "news_volatility"]
    trap_type: "News spike reversals"
    trade_bias: "If London trend intact, continue; else wait"
  
  ny_pm:
    typical_action: "Consolidation or final push to daily target"
    characteristics: ["profit_taking", "final_distribution", "range_return"]
    trap_type: "Late day fakeouts"
    trade_bias: "Partials or stay out unless clear structure"
  
  day_flow_pattern:
    normal: "Asia accumulates → London manipulates → NY distributes"
    reversal: "London overextends → NY reverses to Asia range"
    trend: "Asia tight → London/NY same direction = trend day"

# =============================================================================
# TRADE MANAGEMENT
# =============================================================================
trade_management:
  risk_models:
    fixed_percent:
      description: "Risk X% of account per trade"
      typical: "0.5% - 2%"
    
    fixed_dollar:
      description: "Risk fixed $ amount"
      use_case: "Prop firm daily loss limits"
  
  partial_strategies:
    scale_out:
      description: "Close portions at targets"
      example: "50% at 2R, 25% at 3R, 25% runner"
    
    all_or_nothing:
      description: "Full position to target or stop"
      use_case: "When high conviction + tight stop"
  
  stop_management:
    initial: "Set at invalidation level"
    breakeven: "Move to entry after 1R achieved (optional)"
    trailing: "Move below/above new swing points"
    never: "Never widen stop - only tighten or leave"
  
  outcome_tags:
    win_tp: "Hit take profit target"
    win_partials: "Closed in profit via partial exits"
    win_manual: "Closed early for profit (structure shift)"
    breakeven: "Moved stop to entry, got stopped"
    loss_structure: "Lost due to structure shift against"
    loss_stop: "Clean stop hit at invalidation"
    loss_mistake: "Loss due to rule violation"

# =============================================================================
# NARRATIVE REASONING
# =============================================================================
narrative_reasoning:
  why_here:
    description: "Why is THIS price level significant?"
    examples:
      - "Liquidity above equal highs into HTF premium OB"
      - "50% of unmitigated 4H FVG at ASIA SD"
      - "15M OB formed at prior distribution zone"
  
  why_now:
    description: "Why is THIS moment the right time?"
    examples:
      - "London open Judas into discount OB"
      - "NY AM continuation, Asia range broken clean"
      - "Post-CPI sweep of stops into HTF demand"
  
  what_would_kill_it:
    description: "What invalidates this thesis?"
    examples:
      - "HTF low taken + body close below 15M OB"
      - "Price returns below origination displacement"
      - "Correlation pair (GBPJPY) makes new low"

# =============================================================================
# ANTI-PATTERNS (What NOT to trade)
# =============================================================================
anti_patterns:
  false_ob:
    looks_like: "Order block formed before move"
    problem: "No displacement after - just consolidation"
    lesson: "OB requires displacement to validate"
  
  chased_move:
    looks_like: "Entered after missing retrace"
    problem: "No return to PD array, extended price"
    lesson: "If you miss it, wait for next setup"
  
  asia_breakout_trap:
    looks_like: "Breakout of Asia range before London"
    problem: "Often retraces into range during London"
    lesson: "Don't trade Asia breakouts, wait for London"
  
  fvg_already_mitigated:
    looks_like: "FVG touched but didn't hold"
    problem: "Already served its purpose, spent"
    lesson: "Once mitigated, FVG is used up"
  
  fighting_htf:
    looks_like: "LTF setup against HTF bias"
    problem: "Counter-trend scalp with bad odds"
    lesson: "LTF must promote HTF, never oppose"
  
  news_gamble:
    looks_like: "Entry right before high-impact news"
    problem: "Stop hunted both directions"
    lesson: "Wait for news spike, then assess structure"
  
  revenge_trade:
    looks_like: "Immediate re-entry after stop loss"
    problem: "Emotional, not structural justification"
    lesson: "If structure invalidated, wait for NEW setup"
  
  overtrading:
    looks_like: "3+ trades same session without edge"
    problem: "Forcing setups that don't exist"
    lesson: "One good trade > five mediocre trades"

# =============================================================================
# ENVIRONMENT & REGIME
# =============================================================================
environment:
  volatility_regime:
    high:
      description: "VIX elevated, news-driven, wide ranges"
      adjustment: "Wider stops, smaller size, faster targets"
    normal:
      description: "Standard market conditions"
      adjustment: "Standard playbook applies"
    low:
      description: "Compressed ranges, slow grind"
      adjustment: "Avoid or use tighter targets"
  
  news_context:
    high_impact:
      events: ["FOMC", "NFP", "CPI", "Rate Decision"]
      rule: "No new entries 30 min before/after"
      opportunity: "Post-news structure can be clean"
    medium_impact:
      events: ["PMI", "Retail Sales", "GDP"]
      rule: "Reduce size, widen stops"
    low_impact:
      rule: "Trade normally"
  
  day_types:
    trend_day:
      characteristics: "One direction, minimal pullbacks"
      action: "Hold runners, add on pullbacks"
    range_day:
      characteristics: "Chop between levels, no follow-through"
      action: "Fade extremes, quick targets"
    reversal_day:
      characteristics: "Strong move then full retracement"
      action: "Take profits, don't assume continuation"
  
  regime_flags:
    - vol_regime: ["high", "normal", "low"]
    - news_today: ["high_impact", "medium_impact", "none"]
    - day_type: ["trend", "range", "reversal", "unknown"]
    - correlation: ["aligned", "divergent", "neutral"]

# =============================================================================
# ADVANCED PD ARRAYS
# =============================================================================
advanced_pd_arrays:
  bisi:
    full_name: "Buy Side Imbalance, Sell Side Inefficiency"
    definition: "Bullish FVG - gap created by strong upward displacement"
    use: "Discount array - price returns to this area as support"
    entry: "At or below CE (50%) of the gap"
    status: ["unmitigated", "mitigated"]

  sibi:
    full_name: "Sell Side Imbalance, Buy Side Inefficiency"
    definition: "Bearish FVG - gap created by strong downward displacement"
    use: "Premium array - price returns to this area as resistance"
    entry: "At or above CE (50%) of the gap"
    status: ["unmitigated", "mitigated"]

  inverse_fvg:
    definition: "A mitigated FVG that flips its role"
    bullish_becomes: "Resistance after traded through by bears"
    bearish_becomes: "Support after traded through by bulls"
    significance: "Confirms state of delivery change"

  breaker_block:
    definition: "Failed order block that trapped traders"
    formation: "OB that price traded through, creating new S/R"
    bullish_breaker: "Failed bearish OB becomes new support"
    bearish_breaker: "Failed bullish OB becomes new resistance"
    entry: "On return to the breaker zone"

  propulsion_block:
    definition: "Order block containing a FVG within it"
    formation: "FVG nested inside OB zone"
    significance: "Extra momentum - double confluence"
    entry: "Inside the FVG portion of the OB"

  rejection_block:
    definition: "Candle with long wick showing rejection at key level"
    formation: "Wick range on rejection candle"
    significance: "Wick zone becomes reaction zone on revisit"
    entry: "Within the wick range on return"

  reclaimed_order_block:
    definition: "An OB broken then reclaimed by price reversal"
    formation: "OB → breaker → reclaimed back"
    significance: "Can act as S/R again after reclaim"
    rarity: "Uncommon but powerful when found"

  volume_imbalance:
    definition: "Gap between consecutive candle BODIES (not wicks)"
    difference_from_fvg: "FVG uses wicks, volume imbalance uses bodies only"
    significance: "Smaller than FVG but still attracts price"
    status: ["unfilled", "filled"]

  liquidity_void:
    definition: "Large gap where no trading occurred"
    formation: "Price moved so fast no opposing orders filled"
    rule: "Must be filled eventually - price will return"
    significance: "Larger than FVG, represents major inefficiency"

  balanced_price_range:
    full_name: "Balanced Price Range (BPR)"
    definition: "Overlapping zone of a BISI and SIBI"
    formation: "Bullish FVG overlaps with bearish FVG at same price"
    significance: "Ultra-high probability reaction zone"
    entry: "Within the overlapping zone"

# =============================================================================
# ADVANCED STRUCTURE
# =============================================================================
advanced_structure:
  sms:
    full_name: "Shift in Market Structure (SMS/MSS)"
    definition: "Confirmed break against prevailing trend with displacement"
    difference_from_choch: "SMS is confirmed with displacement; CHoCH is first warning"
    confirmation: "Displacement candle + body close beyond swing point"

  swing_failure_pattern:
    full_name: "Swing Failure Pattern (SFP)"
    definition: "Price sweeps beyond swing point but fails to close beyond"
    bullish_sfp: "Sweep below swing low, close back above"
    bearish_sfp: "Sweep above swing high, close back below"
    significance: "Strong reversal signal"

  dealing_range:
    definition: "Current range price is delivering within"
    boundaries: "Defined by recent swing high and swing low"
    use: "Identify premium/discount, IRL/ERL within it"
    rule: "Trade setup within dealing range, target outside it"

  cisd:
    full_name: "Change in State of Delivery"
    definition: "Candle that changes delivery from seeking BSL to SSL or vice versa"
    significance: "Marks the exact shift point in price delivery"
    identification: "The candle that breaks the prior swing and closes with commitment"

# =============================================================================
# OPENING GAPS
# =============================================================================
opening_gaps:
  nwog:
    full_name: "New Week Opening Gap"
    definition: "Gap between Friday 5 PM close and Sunday 6 PM open"
    significance: "Acts as magnet/equilibrium for the week"
    rule: "Price often returns to fill NWOG during the week"

  ndog:
    full_name: "New Day Opening Gap"
    definition: "Gap between yesterday's 5 PM close and today's 6 PM open"
    significance: "Intraday equilibrium reference"
    rule: "Acts as fair value reference for the day"

  nmog:
    full_name: "New Month Opening Gap"
    definition: "Gap between prior month's close and new month's open"
    significance: "HTF reference point for monthly bias"

  sunday_open_gap:
    definition: "Gap visible at Sunday market open"
    significance: "Often filled during early-week price action"
    relation: "Related to NWOG concept"

# =============================================================================
# KEY LEVELS
# =============================================================================
key_levels:
  pdh_pdl:
    full_name: "Previous Day High / Previous Day Low"
    significance: "Key liquidity targets for current day"
    bsl: "PDH is buy-side liquidity target"
    ssl: "PDL is sell-side liquidity target"
    rule: "Sweep of PDH or PDL often signals daily direction"

  pwh_pwl:
    full_name: "Previous Week High / Previous Week Low"
    significance: "HTF liquidity targets for current week"
    use: "Draw on liquidity for the week"
    rule: "Which side is swept first reveals weekly bias"

  pmh_pml:
    full_name: "Previous Month High / Previous Month Low"
    significance: "Major HTF liquidity pools"
    use: "Monthly bias determined by which side is targeted"

  old_high:
    definition: "Previous swing high on HTF"
    significance: "Buy-side liquidity target"
    rule: "Price is drawn to old highs"

  old_low:
    definition: "Previous swing low on HTF"
    significance: "Sell-side liquidity target"
    rule: "Price is drawn to old lows"

  midnight_open:
    definition: "Price at midnight New York time"
    significance: "Reference level for the true day"
    use: "Often acts as equilibrium / fair value for the session"

# =============================================================================
# ADVANCED TIMING
# =============================================================================
advanced_timing:
  true_day:
    definition: "ICT's trading day runs midnight to midnight ET"
    significance: "Different from broker server day"
    rule: "Use true day for daily candle analysis"

  macro_times:
    definition: "20-minute algorithmic windows at :50 to :10"
    key_times: ["9:50-10:10", "10:50-11:10", "1:50-2:10", "2:50-3:10"]
    significance: "Displacement and FVG formation occurs in these windows"
    rule: "Expect algorithmic activity during macro windows"

  silver_bullet_windows:
    am:
      time: "10:00 AM - 11:00 AM ET"
      significance: "Most reliable Silver Bullet window"
      target: "15-20 pips typically"
    pm:
      time: "2:00 PM - 3:00 PM ET"
      significance: "Second window, often reverses or continues AM"
    london:
      time: "3:00 AM - 4:00 AM ET"
      significance: "London session Silver Bullet"

  cbdr_details:
    tight_threshold: "< 40 pips (preferably 20-30)"
    very_tight: "< 20 pips = strong expansion signal"
    wide: "> 50 pips = expansion may already be done"

  daily_standard_deviation:
    source_ranges: ["CBDR", "Asia Range"]
    levels: ["+/-1 SD", "+/-2 SD", "+/-2.5 SD"]
    use: "Target levels for expansion moves"
    rule: "Tight source range = larger SD expansion"

  adr:
    full_name: "Average Daily Range"
    calculation: "Average of daily high-low over 5/10/20 periods"
    use: "Estimate daily expansion potential"
    rule: "If 80%+ of ADR already traveled, expansion may be done"

# =============================================================================
# ADVANCED TRADING MODELS
# =============================================================================
advanced_models:
  mmbm:
    full_name: "Market Maker Buy Model"
    sequence: ["accumulation_at_lows", "sweep_ssl", "displacement_up", "target_bsl"]
    description: "Full bullish reversal roadmap on any timeframe"
    entry: "After SSL sweep + displacement, enter at discount PDA"

  mmsm:
    full_name: "Market Maker Sell Model"
    sequence: ["distribution_at_highs", "sweep_bsl", "displacement_down", "target_ssl"]
    description: "Full bearish reversal roadmap on any timeframe"
    entry: "After BSL sweep + displacement, enter at premium PDA"

  london_close_model:
    description: "Fade the London/NY AM move during 10 AM-12 PM ET"
    trigger: "Overextended London/NY AM move"
    target: "Retrace to London open price or 50% of AM range"
    use_case: "Partial profit-taking, counter-trend model"

  ict_stinger:
    description: "Oscillator divergence at OTE retracement level"
    components: ["RSI or Stochastic divergence", "61.8-79% fib retracement"]
    confluence: "Divergence + OTE = high probability reversal"
    best_with: "SMT divergence confirmation"

  iofed:
    full_name: "Institutional Order Flow Entry Drill"
    description: "Drill down from HTF to 1M for precision entry"
    sequence: ["HTF identifies zone", "MTF shows displacement", "LTF (1M) FVG for entry"]
    entry: "1M FVG in direction of HTF bias"
    significance: "Maximizes R:R with micro-precision"

  unicorn_model:
    description: "Breaker block aligning with FVG"
    components: ["breaker_block", "fvg_overlap"]
    rarity: "2-3 per week across all pairs"
    significance: "Highest probability single setup in ICT"
    entry: "Inside the FVG portion where breaker overlaps"

  turtle_soup_model:
    description: "Sweep of clean highs/lows with immediate reversal"
    components: ["equal_highs_or_lows", "sweep", "immediate_reversal"]
    quality_signal: "Speed of reversal after sweep"
    entry: "After sweep reversal confirmed by FVG"

  ict_2022_model_detail:
    description: "Full AMD cycle trade"
    phases: ["1. Identify accumulation range", "2. Wait for manipulation sweep", "3. Enter on displacement FVG", "4. Target distribution level"]
    best_timing: "Session opens (London/NY AM)"

# =============================================================================
# ALGORITHMIC THEORY
# =============================================================================
algorithmic_theory:
  ipda:
    full_name: "Interbank Price Delivery Algorithm"
    description: "Central thesis - algorithm delivers price between liquidity pools"
    behavior: "Seeks PD arrays from IPDA data ranges for draw on liquidity"

  ipda_data_ranges:
    definition: "20-day, 40-day, and 60-day lookback ranges"
    use: "Algorithm references these ranges for PD arrays and liquidity"
    20_day: "Most recent/reactive range"
    40_day: "Intermediate reference"
    60_day: "Quarterly reference - major PD arrays"

  algorithmic_pairing:
    definition: "Every buyer needs a seller"
    rule: "IPDA pairs orders at liquidity pools"
    significance: "Explains why price goes to liquidity - to pair orders"

  market_efficiency_paradigm:
    definition: "Price must deliver efficiently between PD arrays"
    rules:
      - "FVGs must be filled"
      - "Liquidity must be taken"
      - "Inefficiencies must be balanced"
    significance: "Nothing is wasted in price delivery"

  delivery:
    definition: "How IPDA delivers price from one PD array to another"
    pattern: "IRL → ERL → IRL → ERL (entry to target cycle)"
    rule: "Price uses internal range liquidity for entries, targets external"

  buy_program:
    definition: "Institutional buying phase"
    behavior: "Seeks discount PD arrays, sweeps SSL, displaces upward"
    target: "BSL and premium arrays"

  sell_program:
    definition: "Institutional selling phase"
    behavior: "Seeks premium PD arrays, sweeps BSL, displaces downward"
    target: "SSL and discount arrays"

  market_maker_profile:
    definition: "How market makers operate through the daily session"
    asia: "Accumulate positions (build the range)"
    london: "Manipulate at session open (Judas swing)"
    ny: "Distribute to target (real move)"
    significance: "Daily PO3 mapped to sessions"

# =============================================================================
# MARKET PHASES
# =============================================================================
market_phases:
  re_accumulation:
    definition: "Continuation pattern within an uptrend"
    appearance: "Pause/consolidation before another expansion leg"
    significance: "Not a reversal - building more liquidity for continuation"

  re_distribution:
    definition: "Continuation pattern within a downtrend"
    appearance: "Pause/consolidation before another leg down"
    significance: "Not a reversal - building more liquidity for continuation"

  wyckoff_accumulation:
    phases: ["PS", "SC", "AR", "ST", "Spring", "SOS", "LPS", "BU"]
    ict_mapping:
      spring: "= ICT SSL sweep / liquidity sweep"
      sos: "= ICT displacement up"
      lps: "= ICT retracement to FVG/OB"
    significance: "Systematic framework for accumulation"

  wyckoff_distribution:
    phases: ["PSY", "BC", "AR", "ST", "UTAD", "SOW", "LPSY"]
    ict_mapping:
      utad: "= ICT BSL sweep / liquidity sweep"
      sow: "= ICT displacement down"
      lpsy: "= ICT retracement to premium PDA"
    significance: "Systematic framework for distribution"

# =============================================================================
# INTERMARKET ANALYSIS
# =============================================================================
intermarket:
  dxy_correlation:
    definition: "US Dollar Index correlation with forex pairs"
    inverse: ["EUR/USD", "GBP/USD", "AUD/USD", "NZD/USD"]
    positive: ["USD/JPY", "USD/CHF", "USD/CAD"]
    rule: "DXY up = USD pairs (EUR, GBP) down"
    use: "Confirm forex bias with DXY structure"

  bond_yield_correlation:
    definition: "US Treasury yields and USD relationship"
    rule: "Rising yields = stronger dollar generally"
    pairs_affected: ["USD/JPY strongly", "Gold inversely"]
    use: "Confirm USD direction with bond market"

  smt_divergence:
    full_name: "Smart Money Technique Divergence"
    definition: "Correlated pair makes new high/low, other doesn't"
    example: "EUR/USD makes new low, GBP/USD doesn't = bullish signal"
    rule: "Non-confirming pair shows true direction"
    pairs: [["EUR/USD", "GBP/USD"], ["ES", "NQ"], ["Gold", "Silver"]]

  risk_sentiment:
    risk_on: "Equities up, yields up, CHF/JPY weak, AUD/NZD strong"
    risk_off: "Equities down, yields down, CHF/JPY strong, Gold up"
    use: "Affects pair selection and bias"

# =============================================================================
# TIME PROFILES
# =============================================================================
time_profiles:
  weekly_profile:
    monday: "Range-setting, accumulation, often half-day move"
    tuesday: "Highest probability expansion day"
    wednesday: "Continuation or reversal of Tuesday, high probability"
    thursday: "Late continuation or reversal setup"
    friday: "Profit-taking, avoid afternoon, often deceptive"
    rule: "Tuesday-Wednesday are primary trade days"

  monthly_profile:
    week_1: "Establishes month range, often manipulative"
    week_2_3: "Real move - majority of monthly range"
    week_4: "Distribution, profit-taking, or reversal setup"
    rule: "Mid-month is where the real move happens"

  quarterly_theory:
    q1_jan_mar: "New year flows, January effect"
    q2_apr_jun: "Trend continuation or major reversal"
    q3_jul_sep: "Summer doldrums, often range-bound"
    q4_oct_dec: "Year-end flows, holiday thin markets"
    rule: "Markets shift direction at quarter boundaries"

  seasonal_tendencies:
    dollar:
      typical_weak: ["January", "December"]
      typical_strong: ["Q3", "September"]
    gold:
      typical_strong: ["Q1", "August-September"]
    equities:
      typical_weak: ["September-October"]
      typical_strong: ["November-April"]
    rule: "Tendencies not guarantees - use for bias confirmation only"

# =============================================================================
# CANDLE THEORY
# =============================================================================
candle_theory:
  po3_candle:
    definition: "Each candle follows AMD pattern"
    bullish_candle: "Open (accumulation) → Low (manipulation) → High → Close (distribution)"
    bearish_candle: "Open (accumulation) → High (manipulation) → Low → Close (distribution)"
    significance: "Predicts next candle behavior from current candle structure"

  htf_prediction:
    monthly: "Monthly candle PO3 predicts weekly candle pattern"
    weekly: "Weekly candle PO3 predicts daily candle pattern"
    daily: "Daily candle PO3 predicts session behavior"
    rule: "Always read HTF candle structure before trading LTF"

  amd_candle:
    definition: "Candle embodying Accumulation-Manipulation-Distribution"
    identification: "Open near one extreme, wick (manipulation), body (distribution)"
    trading: "Use HTF AMD candle to predict next session direction"

# =============================================================================
# ENTRY & MEASUREMENT
# =============================================================================
measurement:
  consequent_encroachment:
    full_name: "Consequent Encroachment (CE)"
    definition: "50% midpoint of a FVG"
    applies_to: ["FVGs", "wicks", "ranges", "candle bodies"]
    rule: "Price often reacts precisely at CE level"

  mean_threshold:
    definition: "50% level of an order block body"
    significance: "Key reaction level within the OB"
    difference_from_ce: "CE for FVGs, mean threshold for OBs"

  standard_deviation_projection:
    formula: "Range height × SD multiplier"
    levels: {"1_sd": 1.0, "2_sd": 2.0, "2_5_sd": 2.5, "3_sd": 3.0}
    from_ranges: ["CBDR", "Asia Range", "London Range"]
    use: "Project expansion targets from consolidation ranges"

# =============================================================================
# DRAW ON LIQUIDITY (DOL)
# =============================================================================
draw_on_liquidity:
  definition: "The liquidity pool price is currently being delivered towards"
  determination:
    - "Identify which side has unswept liquidity"
    - "Check HTF bias direction"
    - "IPDA data range PD arrays"
    - "Nearest significant equal highs/lows"
  rule: "Always trade TOWARDS the draw on liquidity, never away"
  types:
    buy_side_draw: "Price being delivered up to BSL target"
    sell_side_draw: "Price being delivered down to SSL target"

# =============================================================================
# ABBREVIATIONS
# =============================================================================
abbreviations:
  BSL: "Buy-Side Liquidity"
  SSL: "Sell-Side Liquidity"
  IRL: "Internal Range Liquidity"
  ERL: "External Range Liquidity"
  FVG: "Fair Value Gap"
  OB: "Order Block"
  BB: "Breaker Block"
  MB: "Mitigation Block"
  BPR: "Balanced Price Range"
  BISI: "Buy Side Imbalance, Sell Side Inefficiency"
  SIBI: "Sell Side Imbalance, Buy Side Inefficiency"
  OTE: "Optimal Trade Entry"
  CE: "Consequent Encroachment"
  DOL: "Draw on Liquidity"
  BOS: "Break of Structure"
  CHoCH: "Change of Character"
  SMS: "Shift in Market Structure"
  MSS: "Market Structure Shift"
  SFP: "Swing Failure Pattern"
  CISD: "Change in State of Delivery"
  NWOG: "New Week Opening Gap"
  NDOG: "New Day Opening Gap"
  NMOG: "New Month Opening Gap"
  PDH: "Previous Day High"
  PDL: "Previous Day Low"
  PWH: "Previous Week High"
  PWL: "Previous Week Low"
  PMH: "Previous Month High"
  PML: "Previous Month Low"
  CBDR: "Central Bank Dealers Range"
  SD: "Standard Deviation"
  ADR: "Average Daily Range"
  AMD: "Accumulation Manipulation Distribution"
  PO3: "Power of Three"
  MMBM: "Market Maker Buy Model"
  MMSM: "Market Maker Sell Model"
  SMT: "Smart Money Technique"
  IPDA: "Interbank Price Delivery Algorithm"
  IOFED: "Institutional Order Flow Entry Drill"
  HTF: "Higher Timeframe"
  MTF: "Medium Timeframe"
  LTF: "Lower Timeframe"
  EQ: "Equilibrium"
  DXY: "US Dollar Index"
